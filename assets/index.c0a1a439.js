import*as n from"https://unpkg.com/three@0.120.1/build/three.module.js";import{G as e,V as t}from"./vendor.3bbafb8c.js";let i=document.querySelectorAll(".slide"),o=document.querySelectorAll(".arrow-left"),r=document.querySelectorAll(".arrow-right"),d=document.querySelectorAll(".dropdownsection"),s=[],a=!1,w=!1;window.innerWidth<1300&&(w=!0);let c=0,l=null;function h(){for(let n=0;n<l.length;n++)l[n].style.display="none"}var u=function(n){l=Array.from(i).filter((function(e){return e.dataset.num==n})),void 0===s[n]&&(s[n]=0),0===s[n]&&(s[n]=l.length),function(n){h(),l[s[n]-1].style.display="block",s[n]--}(n)},m=function(n){l=Array.from(i).filter((function(e){return e.dataset.num==n})),void 0===s[n]&&(s[n]=0),s[n]===l.length-1&&(s[n]=-1),function(n){h(),l[s[n]+1].style.display="block",s[n]++}(n)};o.forEach((function(n){n.addEventListener("click",(function(){u(n.dataset.num)}))})),r.forEach((function(n){n.addEventListener("click",(function(){m(n.dataset.num)}))})),d.forEach((function(n){n.addEventListener("click",(function(){var e;e=n.dataset.id,document.querySelectorAll("."+e).forEach((function(n){n.className.includes("collapsibleIcon")?"-"==n.innerText?n.innerText="+":n.innerText="-":"none"!=n.style.display?n.style.display="none":n.className.includes("slidePic")?n.style.display="flex":n.style.display="block"}))}))})),i.forEach((n=>{l=Array.from(i).filter((function(e){return e.dataset.num==n.dataset.num})),h(),l[0].style.display="block"}));const p=document.getElementById("toggleButton"),y=document.getElementById("navi-list");p.addEventListener("click",(()=>{y.classList.toggle("active")}));const f=new n.Scene;let g;(new e).load("Crystal.glb",(function(n){const e=n.scene;g=e}),void 0,(function(n){console.error(n)}));const W=new n.PerspectiveCamera(45,window.innerWidth/window.innerHeight,.1,1e3),v=new n.PerspectiveCamera(45,window.innerWidth/window.innerHeight,.1,1e3),x=new n.WebGLRenderer({canvas:document.querySelector("#bg")});var b=window.matchMedia("only screen and (max-width: 760px)").matches;x.setPixelRatio(window.devicePixelRatio),x.setSize(window.innerWidth,window.innerHeight),f.background=new n.Color(1908513),W.position.setZ(44),W.position.setY(-10),W.position.setX(20),v.position.setZ(44),v.position.setY(-10),v.position.setX(20),x.render(f,W);const E=new n.TorusGeometry(5.25,.035,3,3),P=new n.TorusGeometry(5.25/1.55,.0245,3,3),S=new n.MeshStandardMaterial({color:11073961}),A=new n.MeshStandardMaterial({color:7009008}),H=new n.Mesh(E,S),M=new n.Mesh(P,A);H.position.set(1e4,999e5,1);const j=new n.PointLight(16777215);j.position.set(5,5,5);const k=new n.AmbientLight(16777215);function z(){window.innerWidth<1300&&!w?(w=!0,window.location.href="index2.html"):window.innerWidth>=1300&&w&&(w=!1,window.location.href="index.html"),W.aspect=window.innerWidth/window.screen.availHeight,W.updateProjectionMatrix(),W.position.setZ(44),v.fov=45,v.aspect=window.innerWidth/window.innerHeight,v.updateProjectionMatrix(),x.setSize(window.innerWidth,window.innerHeight),G()}f.add(j,k),window.addEventListener("load",(function(){W.aspect=window.innerWidth/window.innerHeight,W.updateProjectionMatrix(),v.aspect=window.innerWidth/window.innerHeight,v.updateProjectionMatrix(),x.setSize(window.innerWidth,window.innerHeight),G(),f.add(H),f.add(M),f.add(g),z()}),!1),$(window).resize((function(){z()}));var C=(new n.Plane).setFromNormalAndCoplanarPoint(new n.Vector3(0,0,1),new t(0,0,1)),L=new n.Raycaster,V=new n.Vector2,q=new n.Vector3,B=new n.Vector2(.5,-.45,-1),R=document.getElementById("sitetitle"),T=R.getBoundingClientRect();B=new n.Vector3(1/(.5*window.innerWidth)*1,19,-15);function G(){(I=jQuery("#bg")).height(jQuery(window).height()+100),I.width(jQuery(window).width()+500),T=R.getBoundingClientRect(),console.log(T.right/window.innerWidth),V.set(T.right/window.innerWidth*2-1,T.top+1),L.setFromCamera(V,v),L.ray.intersectPlane(C,q),console.log("window inner width: ",window.innerWidth),window.innerWidth>2900?B.set(1/window.innerWidth*1e3-19.6,19,-15):window.innerWidth>2550?B.set(1/window.innerWidth*5e3-12,19,-15):window.innerWidth>2040?B.set(1/window.innerWidth*15e3-12,19,-15):window.innerWidth>1560?B.set(1/(.5*window.innerWidth)*1950,19,-15):window.innerWidth>650?B.set(1/window.innerWidth*12e3,19,-15):B.set(17,19,-15),b&&B.add(new n.Vector3(-1,-2.75,0)),window.innerHeight<700&&window.screen.availHeight>700?0==a&&(a=!0,f.remove(H),f.remove(M),f.remove(g)):1==a&&(a=!1,f.add(H),f.add(M),f.add(g)),H.position.copy(q).add(B),g.position.set(H.position.x,H.position.y,H.position.z),M.position.set(H.position.x,H.position.y,H.position.z),console.log(H.position)}new n.Vector3(-5,.3,-15);var I=jQuery("#bg");function Q(){const n=document.body.getBoundingClientRect().top;W.position.y=.027*n,v.position.y=.027*n}document.body.onscroll=Q,Q(),function n(){requestAnimationFrame(n),window.innerWidth!=c&&z(),H.rotation.x+=.01,H.rotation.y+=.005,H.rotation.z+=.01,M.rotation.set(H.rotation.x+1.5,H.rotation.y+1.5,H.rotation.z+1.5),g.rotation.x-=.01,g.rotation.y-=.005,g.rotation.z-=.01,c=window.innerWidth,x.render(f,W)}();
